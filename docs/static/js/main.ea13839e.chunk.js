(this["webpackJsonpfrontend-chellange"]=this["webpackJsonpfrontend-chellange"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(9),s=n.n(r),i=n(5),l=n(0);function o(e){e.text;return Object(l.jsx)("header",{className:"tc  pv1-ns","data-test":"headerComponent",children:Object(l.jsx)("h1",{className:"f5 f4-ns fw6 mid-gray",children:"Search"})})}o.defaultProps={text:"Search"};var u=o,b=n(10),d=n(11),j=n(14),h=n(13),f=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).state={hasError:!1},c}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?Object(l.jsx)("h1",{"data-test":"ErrorBoundries",children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component),m=n(8),p=n.n(m),O=n(12),v=n(6),x=n(2);var g=function(e){var t=e.className,n=e.placeholder,c=e.style,a=e.setSearch,r=function(e,t){var n;return function(){for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];var s=this;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(s,a)}),t)}}((function(e){var t=e.target.value;t=t?t.toLowerCase():t,a(t)}),100);return Object(l.jsx)("div",{"data-test":"search",children:Object(l.jsx)("input",{name:"search",style:c,onChange:r,type:"text",className:t,"aria-describedby":"name-desc",autoComplete:"off",placeholder:n})})};var k=function(e){var t=e.users,n=e.inlineEdit,a=e.headers,r=e.children,s=e.deleteUser,o=e.selectUsers,u=e.setGlobalSelect,b=e.globalSelect,d=Object(c.useState)({}),j=Object(x.a)(d,2),h=j[0],f=j[1],m=function(e){var t=e.target,n=t.value,c=t.name,a=Object(i.a)({},h);a[c]=n,f(a)},p=function(e){var t=e.edit?Object(l.jsx)("button",{onClick:function(){return function(e){n(e),f({})}(h)},children:"save"}):Object(l.jsx)("button",{onClick:function(){return function(e,t){h.id?alert("please save your current changes to proceed."):(f(e),n(e,t))}(e,!0)},children:"edit"}),c=a.map((function(t){return Object(l.jsx)("td",{className:"pv3 pr3 bb b--black-20 tc",children:e.edit?Object(l.jsx)("input",{className:"w-1",name:t,onChange:m,value:h[t]}):e[t]},t)}));return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"pv3 pr3 bb b--black-20 tc",children:Object(l.jsx)("input",{type:"checkbox",checked:!!e.checked,onChange:function(){return function(e){var t=e.map((function(e){return e.id}));o(t)}([e])}})}),c,Object(l.jsxs)("td",{className:"pv3 pr3 bb b--black-20 tc",children:[t,Object(l.jsx)("button",{onClick:function(){return s([e.id])},children:"Delete"})]})]},e.id)};return t.length?Object(l.jsxs)("div",{className:"pa4","data-test":"table",children:[Object(l.jsxs)("table",{className:"center w-100",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"bb b--black-20 tl pr3 bg-white tc",children:Object(l.jsx)("input",{type:"checkbox",checked:b,onChange:function(){return u(!b)}})}),a.map((function(e){return Object(l.jsx)("th",{className:"bb b--black-20 tl pr3 bg-white tc",children:e},e)})),Object(l.jsx)("th",{className:"bb b--black-20 tl pr3 bg-white tc",children:"Actions"})]})}),Object(l.jsx)("tbody",{className:"lh-copy",children:t.map((function(e){return p(e)}))})]}),r]}):Object(l.jsx)("div",{className:"flex justify-center","data-test":"table-no-data",children:Object(l.jsx)("h1",{className:"f5 f4-ns fw6 mid-gray",children:"No data Available"})})},N=n.p+"static/media/search.ea08474b.svg",w={backgroundImage:"url(".concat(N,")"),backgroundRepeat:"no-repeat",textIndent:"25px",backgroundPosition:"5px"};var y=function(e){var t=e.count,n=e.page,c=e.offSet,a=e.setPagination,r=function(e){e<0||e*c>t||(console.log(e*c,t),a(e))};return Object(l.jsx)("div",{className:"tc mw8 center","data-test":"pagination",children:Object(l.jsx)("div",{className:"dib overflow-hidden ba br2 b--light-silver",children:Object(l.jsxs)("nav",{className:"cf","data-name":"pagination-numbers-bordered",children:[Object(l.jsx)("a",{className:"fl dib link dim black f6 f5-ns b pa3 br b--light-silver",disabled:!0,title:"Previous",onClick:function(){return r(n-1)},children:"\u2190 Previous"}),Object(l.jsx)("a",{className:"fr dib link dim black f6 f5-ns b pa3",title:"Next",onClick:function(){return r(n+1)},children:"Next \u2192"}),Object(l.jsx)("div",{className:"overflow-hidden center dt tc",children:Array(Math.ceil(t/c)).fill(0).map((function(e,t){return Object(l.jsx)("a",{className:"dtc link dim  ".concat(n===t?"bg-blue white":"black"," f6 f5-ns b pa3 br b--light-silver"),title:"1",onClick:function(){return r(t)},children:t+1},t)}))})]})})})},C=["name","email","role"],S=10;var E=function(){var e=Object(c.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(x.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)([]),b=Object(x.a)(u,2),d=b[0],j=b[1],h=Object(c.useState)([]),f=Object(x.a)(h,2),m=f[0],N=f[1],E=Object(c.useState)(0),P=Object(x.a)(E,2),A=P[0],L=P[1],F=Object(c.useState)(0),I=Object(x.a)(F,2),D=I[0],T=I[1],U=function(e){var t=Object(v.a)(i).map((function(t){return e.includes(t.id)&&(t.checked?t.checked=!1:t.checked=!0),t}));o(t)},B=function(){var e=Object(O.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A*S+S,e.next=3,fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json",{method:"Get"}).then((function(e){return e.json()}));case 3:n=e.sent,o(n),j(n.slice(0,t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(n){var e=d.map((function(e){return e.id}));U(e)}else{var t=i.map((function(e){return e.checked&&(e.checked=!1),e}));o(t)}}),[n]),Object(c.useEffect)((function(){var e=i.filter((function(e){return e.name.toLowerCase().includes(D)||e.email.toLowerCase().includes(D)||e.role.toLowerCase().includes(D)}));N(e)}),[D,i]),Object(c.useEffect)((function(){!function(e){var t=e*S+S;j(D?m.slice(t-S,t):i.slice(t-S,t))}(A)}),[A,i,m]),Object(c.useEffect)((function(){B()}),[]),Object(l.jsxs)("div",{className:"pl3 pr3 pb2 center tc","data-test":"dashboard",children:[Object(l.jsx)(g,{setSearch:T,placeholder:"search by name, email, role",className:"w-100 w-100-l w-100-m fw4 f7 f6-l f6-m pa2 ba br2 o-80 b--silver outline-0 ",style:w}),i.length?Object(l.jsx)(k,{users:d,headers:C,inlineEdit:function(e,t){var n=Object(v.a)(i),c=n.findIndex((function(t){return e.id===t.id}));t?n[c].edit=!0:(e.edit=!1,n[c]=e),o(n)},deleteUser:function(e){var t=i.filter((function(t){return!e.includes(t.id)}));o(t)},selectUsers:U,setGlobalSelect:a,globalSelect:n,children:Object(l.jsxs)("div",{className:"flex flex-row flex-between items-center",children:[Object(l.jsx)("button",{className:"bg-dark-red white br4 h2",onClick:function(){var e=Object(v.a)(i).filter((function(e){return!e.checked}));o(e),n&&a(!1)},children:"delete All selected users"}),Object(l.jsx)(y,{offSet:S,count:m.length?m.length:i.length,page:A,setPagination:function(e){L(e)}})]})}):Object(l.jsxs)("div",{className:"flex justify-center",children:[Object(l.jsx)("h1",{className:"f5 f4-ns fw6 mid-gray",children:" Loading... "})," "]})]})};n(21);var P=function(){return Object(l.jsx)("div",{className:"App","data-test":"App",children:Object(l.jsxs)(f,{children:[Object(l.jsx)(u,{className:"navbar"}),Object(l.jsx)(E,{})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root")),A()}},[[22,1,2]]]);
//# sourceMappingURL=main.ea13839e.chunk.js.map